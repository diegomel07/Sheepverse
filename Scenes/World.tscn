[gd_scene load_steps=19 format=3 uid="uid://by2ktrx18b768"]

[ext_resource type="Script" path="res://scripts/World.gd" id="1_3gy3t"]
[ext_resource type="PackedScene" uid="uid://dabtg02t6sq0s" path="res://Scenes/Player.tscn" id="3_54r5s"]
[ext_resource type="Texture2D" uid="uid://dnil7lnql17hp" path="res://assets/tiles/tiles.png" id="3_luefk"]
[ext_resource type="PackedScene" uid="uid://dalrerbbp32nk" path="res://Scenes/sheep.tscn" id="4_6rwpb"]
[ext_resource type="PackedScene" uid="uid://dlbc4foeijfsx" path="res://Scenes/selection.tscn" id="5_x524r"]
[ext_resource type="PackedScene" uid="uid://ygarkdl44isq" path="res://Scenes/inventory.tscn" id="6_j181l"]
[ext_resource type="Script" path="res://scripts/CanvasLayer.gd" id="6_pwnb1"]
[ext_resource type="Script" path="res://scripts/gui_daytime.gd" id="7_ea4c8"]
[ext_resource type="Script" path="res://scripts/daynightcycle.gd" id="8_q0unq"]
[ext_resource type="Texture2D" uid="uid://dhs5qnn5oblyk" path="res://assets/tiles/daynightcycle-gradient-texture.tres" id="9_jo0ii"]
[ext_resource type="Texture2D" uid="uid://ctyg6jtqljm2n" path="res://assets/tiles/black-background.jpg" id="11_06nyr"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_x25q5"]
frequency = 0.072

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_0ybhi"]
noise = SubResource("FastNoiseLite_x25q5")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_7t8im"]
texture = ExtResource("3_luefk")
texture_region_size = Vector2i(32, 32)
0:0/size_in_atlas = Vector2i(2, 2)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-7.08706, -18.5838, 2.36235, -26.4583, 5.98462, -25.9859, 14.0166, -17.7964, 16, -8.18949, 16, -2.20486, 21.1037, 0.47247, 24.5685, 4.25223, 25.8284, 9.6069, 28.0332, 13.0717, 27.5608, 17.3239, 19.5288, 24.8834, 13.7016, 23.6235, 8.66196, 25.5134, -3.1498, 25.0409, -9.29192, 26.3009, -15.2765, 25.0409, -22.9936, 16.8514, -24.5685, 10.2369, -22.8361, 6.92957, -19.0563, 2.83482, -18.4263, -2.04737, -19.5288, -4.7247, -17.4814, -8.50447, -14.6466, -10.5518, -11.1818, -11.3393, -8.66196, -16)
0:0/0/custom_data_0 = "rock"
0:2/size_in_atlas = Vector2i(2, 2)
0:2/0 = 0
0:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:2/0/physics_layer_0/angular_velocity = 0.0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, -11.9055, -21.4299, -3.75, -23.875, 7, -24.125, 14.625, -21.125, 18.5, -19.625, 22.3636, -17.4814, 23, -12.625, 23.5, -3.5, 22.375, 7.75, 27.375, 16.375, 31.5, 21.625, 31.625, 24.625, 28, 24, 27.125, 28.125, 21.875, 28.125, 18.75, 26.375, 12.75, 26.75, 8.625, 29.375, 2.5, 24.125, -1, 21.5, -5.5, 21.5, -6.5, 28.625, -18.125, 26.125, -20.125, 21.5, -28, 22, -27.875, 18, -25.375, 15.875, -25.125, 11, -19.375, 7.5)
0:2/0/custom_data_0 = "wood"
0:4/size_in_atlas = Vector2i(2, 2)
0:4/0 = 0
0:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:4/0/physics_layer_0/angular_velocity = 0.0
0:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(-13.5, -12.75, -5.5, -16, 9, -16, 19, -15.25, 23.5, -5.5, 22.75, 1.75, 25.5, 9, 22.25, 20.25, 11.5, 22.5, -1, 22.5, -15, 21.25, -24.5, 19.25, -25.25, 8, -22.5, -6)
0:4/0/custom_data_0 = "grass"
3:5/0 = 0
3:5/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:5/0/physics_layer_0/angular_velocity = 0.0
3:5/0/custom_data_0 = "terrain"
4:5/0 = 0
4:5/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:5/0/physics_layer_0/angular_velocity = 0.0
4:5/0/custom_data_0 = "terrain"
2:0/0 = 0
2:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:0/0/physics_layer_0/angular_velocity = 0.0
2:0/0/custom_data_0 = "terrain"
3:0/0 = 0
3:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:0/0/physics_layer_0/angular_velocity = 0.0
0:6/0 = 0
0:6/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:6/0/physics_layer_0/angular_velocity = 0.0
0:6/0/custom_data_0 = "terrain"
2:7/animation_columns = 7
2:7/animation_frame_0/duration = 1.0
2:7/animation_frame_1/duration = 1.0
2:7/animation_frame_2/duration = 1.0
2:7/animation_frame_3/duration = 1.0
2:7/animation_frame_4/duration = 1.0
2:7/animation_frame_5/duration = 1.0
2:7/animation_frame_6/duration = 1.0
2:7/0 = 0
2:7/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:7/0/physics_layer_0/angular_velocity = 0.0
5:0/size_in_atlas = Vector2i(2, 2)
5:0/animation_columns = 4
5:0/0 = 0
5:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:0/0/physics_layer_0/angular_velocity = 0.0
5:0/0/custom_data_0 = "energy"
5:2/size_in_atlas = Vector2i(3, 3)
5:2/0 = 0
5:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:2/0/physics_layer_0/angular_velocity = 0.0
5:2/0/custom_data_0 = "clone_machine"
2:1/0 = 0
2:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:1/0/physics_layer_0/angular_velocity = 0.0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-5, -2.75, 16, -3, 16, 6, 4.75, 6.25, 5.25, 16, -5.5, 16)
2:2/0 = 0
2:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:2/0/physics_layer_0/angular_velocity = 0.0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-5.75, -16, 6.5, -16, 6.75, -3, 16, -3, 16, 6.25, 6.5, 6.25, 6, 16, -6, 16)
3:2/0 = 0
3:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:2/0/physics_layer_0/angular_velocity = 0.0
3:3/0 = 0
3:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:3/0/physics_layer_0/angular_velocity = 0.0
2:3/0 = 0
2:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:3/0/physics_layer_0/angular_velocity = 0.0
2:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(4.25, -16, 4, -2.75, 16, -2.5, 16, 5.75, -4, 5.5, -4, -16)
2:4/0 = 0
2:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:4/0/physics_layer_0/angular_velocity = 0.0
3:4/0 = 0
3:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:4/0/physics_layer_0/angular_velocity = 0.0
3:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -3.25, 16, -3, 16, 6.25, -16, 6)
4:4/0 = 0
4:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:4/0/physics_layer_0/angular_velocity = 0.0
4:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(-5.25, -16, 5, -16, 5.25, 16, -5.25, 16)
4:3/0 = 0
4:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:3/0/physics_layer_0/angular_velocity = 0.0
4:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -2.75, -4, -3, -3.75, -16, 4, -16, 4.25, 5.25, -16, 5.75)
4:2/0 = 0
4:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:2/0/physics_layer_0/angular_velocity = 0.0
3:1/0 = 0
3:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:1/0/physics_layer_0/angular_velocity = 0.0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -2.75, 16, -2.75, 16, 6.54803, 5.15905, 6.15118, 5.15905, 16, -4.96063, 16, -4.7622, 6.15118, -16, 6.3496)
4:1/0 = 0
4:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:1/0/physics_layer_0/angular_velocity = 0.0
4:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -2.75, 5.25, -2.5, 5.25, 16, -5, 16, -4.75, 6.5, -16, 6.25)

[sub_resource type="TileSet" id="TileSet_1i4sm"]
tile_size = Vector2i(32, 32)
physics_layer_0/collision_layer = 1
custom_data_layer_0/name = "type"
custom_data_layer_0/type = 4
sources/0 = SubResource("TileSetAtlasSource_7t8im")

[sub_resource type="Animation" id="Animation_jpbyi"]
resource_name = "fade"
length = 4.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1, 2, 3, 4),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [Color(0, 0, 0, 0), Color(0, 0, 0, 1), Color(0, 0, 0, 1), Color(0, 0, 0, 1), Color(0, 0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_f7dqu"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0, 0, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_q0lae"]
_data = {
"RESET": SubResource("Animation_f7dqu"),
"fade": SubResource("Animation_jpbyi")
}

[node name="Node2D" type="Node2D"]
script = ExtResource("1_3gy3t")
noiseTexture = SubResource("NoiseTexture2D_0ybhi")

[node name="TileMap" type="TileMap" parent="."]
unique_name_in_owner = true
tile_set = SubResource("TileSet_1i4sm")
format = 2
layer_0/name = "floor"
layer_1/name = "objects"
layer_1/tile_data = PackedInt32Array(0, 131072, 1, 65536, 262144, 4, 131072, 262144, 4, 196608, 262144, 4, 262144, 262144, 4, 327680, 262144, 4, 393216, 262144, 4, 458752, 262144, 4, 524288, 262144, 4, 589824, 262144, 4, 655360, 262144, 4, 720896, 262144, 4, 786432, 131072, 3, 7, 262144, 1, 6, 196608, 4, 5, 196608, 4, 3, 196608, 4, 2, 196608, 4, 1, 196608, 4, 458762, 131072, 3, 393226, 262144, 4, 327690, 262144, 1, 851970, 131072, 3, 851971, 196608, 4, 851972, 196608, 4, 851973, 196608, 4, 917510, 131072, 3, 917511, 196608, 4, 917512, 196608, 4, 917513, 196608, 4, 917514, 196608, 4, 917515, 196608, 4, 917516, 196608, 4, 983053, 131072, 3, 983054, 196608, 4, 983055, 196608, 4, 983056, 262144, 3, 917520, 262144, 4, 851984, 262144, 4, 786448, 262144, 4, 720912, 262144, 4, 655376, 262144, 4, 589840, 262144, 1, 589839, 131072, 3, 524303, 262144, 1, 524300, 196608, 4, 524299, 131072, 3, 327689, 131072, 3, 262153, 262144, 1, 196616, 262144, 4, 131080, 262144, 1, 131079, 131072, 3, 65543, 262144, 4, 786433, 196608, 4, 786434, 262144, 1, 851974, 262144, 1, 917517, 262144, 1, 458763, 262144, 1, 262152, 131072, 3, 4, 196608, 4, 262148, 327680, 2)

[node name="Player" parent="." instance=ExtResource("3_54r5s")]
unique_name_in_owner = true
position = Vector2(664, 322)

[node name="Camera2D" type="Camera2D" parent="Player"]
position = Vector2(0, -2)
zoom = Vector2(1.5, 1.5)
limit_left = 0
limit_top = 0
limit_right = 1000
limit_bottom = 1000
limit_smoothed = true
position_smoothing_enabled = true
rotation_smoothing_enabled = true

[node name="Selection" parent="." instance=ExtResource("5_x524r")]
position = Vector2(0, -5)

[node name="cloning_timer" type="Timer" parent="Selection"]
wait_time = 3.0
one_shot = true

[node name="CanvasLayer" type="CanvasLayer" parent="."]
process_mode = 3
script = ExtResource("6_pwnb1")

[node name="inventory" parent="CanvasLayer" instance=ExtResource("6_j181l")]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -174.5
offset_top = -139.5
offset_right = 174.5
offset_bottom = 139.5
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="CanvasLayer"]
offset_right = 76.0
offset_bottom = 23.0
script = ExtResource("7_ea4c8")
metadata/_edit_use_anchors_ = true

[node name="FadeAnimation" type="Sprite2D" parent="CanvasLayer"]
self_modulate = Color(0, 0, 0, 0)
position = Vector2(491, 262)
texture = ExtResource("11_06nyr")

[node name="AnimationPlayer" type="AnimationPlayer" parent="CanvasLayer/FadeAnimation"]
libraries = {
"": SubResource("AnimationLibrary_q0lae")
}

[node name="sheeps" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="sheep" parent="sheeps" instance=ExtResource("4_6rwpb")]
position = Vector2(658, 199)

[node name="sheep2" parent="sheeps" instance=ExtResource("4_6rwpb")]
position = Vector2(724, 255)

[node name="sheep3" parent="sheeps" instance=ExtResource("4_6rwpb")]
position = Vector2(769, 119)

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.133333, 0.14902, 0.258824, 1)
script = ExtResource("8_q0unq")
gradient_texture = ExtResource("9_jo0ii")

[connection signal="closed" from="CanvasLayer/inventory" to="." method="_on_inventory_closed"]
[connection signal="opened" from="CanvasLayer/inventory" to="." method="_on_inventory_opened"]
[connection signal="a_mimir" from="CanvasModulate" to="Selection" method="_on_canvas_modulate_a_mimir"]
[connection signal="time_tick" from="CanvasModulate" to="CanvasLayer/Label" method="_on_canvas_modulate_time_tick"]
